var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(){function t(e,n,o){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return r(n||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}return t}()({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./script/GameUI"),r=t("./script/GameControl"),i=function(){function t(){}return t.init=function(){var t=Laya.ClassUtils.regClass;t("script/GameUI.ts",o["default"]),t("script/GameControl.ts",r["default"])},t.width=640,t.height=1136,t.scaleMode="fixedwidth",t.screenMode="none",t.alignV="top",t.alignH="left",t.startScene="test/TestScene.scene",t.sceneRoot="",t.debug=!1,t.stat=!1,t.physicsDebug=!1,t.exportSceneToJson=!0,t}();n["default"]=i,i.init()},{"./script/GameControl":3,"./script/GameUI":4}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./GameConfig"),r=function(){function t(){window.Laya3D?Laya3D.init(o["default"].width,o["default"].height):Laya.init(o["default"].width,o["default"].height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=o["default"].scaleMode,Laya.stage.screenMode=o["default"].screenMode,Laya.URL.exportSceneToJson=o["default"].exportSceneToJson,(o["default"].debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),o["default"].physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),o["default"].stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return t.prototype.onVersionLoaded=function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))},t.prototype.onConfigLoaded=function(){o["default"].startScene&&Laya.Scene.open(o["default"].startScene)},t}();new r},{"./GameConfig":1}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=t("./GameUI");!function(t){t[t.None=0]="None",t[t.Init=1]="Init",t[t.OnPlayRecord=2]="OnPlayRecord",t[t.AllRecordSuccess=3]="AllRecordSuccess",t[t.Error=4]="Error"}(o||(o={}));var i=function(t){function e(){var e=t.call(this)||this;return e.recordList=new Array,e._started=!1,e._time=0,e._time2=0,e._gameState=o.None,e._showIndex=0,e._recordIndex=-1,e._successCount=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"GameState",{get:function(){return this._gameState},set:function(t){this._gameState=t,this._gameState==o.OnPlayRecord?(this.gapTime=500,this.OnChangeShowIndex()):this._gameState==o.Error&&(r["default"].instance.OnInputResult("No"),this.OnRefreshResultTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShowIndex",{get:function(){return this._showIndex},set:function(t){this._showIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RecordIndex",{get:function(){return this._recordIndex},set:function(t){this._recordIndex=t,-1!=this._recordIndex&&(this._recordIndex>this.recordList.length&&this.OnError(),this.inputVal!=this.recordList[this._recordIndex]?this.OnError():(++this.SuccessCount,this.OnSuccess()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SuccessCount",{get:function(){return this._successCount},set:function(t){this._successCount=t,0!=t&&0!=this.recordList.length&&(console.log("SuccessCount  val "+t+" recordList "+this.recordList.length),t==this.recordList.length?(r["default"].instance.OnInputResult("Perfect"),this.GameState=o.AllRecordSuccess):r["default"].instance.OnInputResult("Yes"),this.OnRefreshResultTitle())},enumerable:!0,configurable:!0}),e.prototype.onEnable=function(){this._time=Date.now()},e.prototype.RandomInt=function(t,e){return t+Math.floor(Math.random()*(e-t))},e.prototype.Init=function(t,e){this._maxRcord=e,this.GameState=o.Init,this.GameState=o.OnPlayRecord,this.SuccessCount=0,this.ShowIndex=0;for(var n=0;t>n;n++)this.AddRecord(this.RandomInt(0,e));this.InitRendererGapTime(.5)},e.prototype.AddRecord=function(t){this.recordList.push(t)},e.prototype.InitRendererGapTime=function(t){this._time=t},e.prototype.Input=function(t){return this.ShowIndex!=this.recordList.length?void console.log("==Input wait =="):(this.inputVal=t,void++this.RecordIndex)},e.prototype.OnSuccessAddRecord=function(){this.SuccessCount=0,this.ShowIndex=0,this.AddRecord(this.RandomInt(0,this._maxRcord)),this.InitRendererGapTime(.5),this.RecordIndex=-1,this.GameState=o.OnPlayRecord,r["default"].instance.OnRenderTitle(this.recordList,1)},e.prototype.onStageClick=function(t){t.stopPropagation()},e.prototype.startGame=function(){this._started||(this._started=!0,this.enabled=!0,this.Init(4,5),r["default"].instance.OnRenderRecordInputBar(5))},e.prototype.stopGame=function(){this._started=!1,this.enabled=!1},e.prototype.OnChangeShowIndex=function(){0!=this.recordList.length&&this.ShowIndex!=this.recordList.length&&(++this.ShowIndex,console.log("==OnChangeShowIndex=="+this.ShowIndex+" len "+this.recordList.length),r["default"].instance.OnRenderTitle(this.recordList,this.ShowIndex))},e.prototype.onUpdate=function(){var t=Date.now();this._time>0&&t>this._time&&this._started&&(this.GameState==o.OnPlayRecord?this.OnChangeShowIndex():this.GameState==o.Error?this.OnResetRecord():this.GameState==o.AllRecordSuccess&&this.OnSuccessAddRecord(),this._time=t+this.gapTime),this._time2>0&&t>this._time2&&this._started&&this._refresh&&(r["default"].instance.OnInputResult(""),this._refresh=!1,this._time2=0)},e.prototype.OnRefreshResultTitle=function(){this._refresh=!0,this._time2=Date.now()+500},e.prototype.OnSuccess=function(){console.log("====OnSuccess===")},e.prototype.OnResetRecord=function(){this.SuccessCount=0,this.ShowIndex=0,this.RecordIndex=-1,this.Init(4,5)},e.prototype.OnError=function(){this.Clear(),this.GameState=o.Error},e.prototype.Clear=function(){delete this.recordList,this.recordList=new Array},e}(Laya.Script);n["default"]=i},{"./GameUI":4}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./../ui/layaMaxUI"),r=t("./GameControl"),i=Laya.Button,s=function(t){function e(){var n=t.call(this)||this;return e.instance=n,Laya.MouseManager.multiTouchEnabled=!1,n}return __extends(e,t),e.prototype.onEnable=function(){this._control=this.getComponent(r["default"]),this.startBtn.on(Laya.Event.CLICK,this,this.OnStartBtnClick),this.stage.on(Laya.Event.CLICK,this,this.OnClick)},e.prototype.OnStartBtnClick=function(t){this._control.startGame()},e.prototype.OnRenderRecordInputBar=function(t){for(var e=0;t>e;e++){var n=this.createButton(e.toString(),e),o=120*e,r=this.startBtn.y+60;n.width=80,n.height=30,n.pos(o,r)}},e.prototype.createButton=function(t,e){var n=this,o=new i("comp/button.png",t);return Laya.stage.addChild(o),o.on(Laya.Event.CLICK,this,function(){n.OnInput(e)}),o},e.prototype.OnRenderTitle=function(t,e){if(0!=t.length){for(var n="Input: ["+t.length+"] ",o=0;e>o;o++)n+=t[o]+",";this.scoreLbl.text=n}},e.prototype.OnInput=function(t){this._control.Input(t)},e.prototype.OnInputResult=function(t){this.lblInfo.text=t},e.prototype.OnClick=function(t){this.tipLbll.visible=!1},e.prototype.stopGame=function(){this._control.stopGame()},e}(o.ui.test.TestSceneUI);n["default"]=s},{"./../ui/layaMaxUI":5,"./GameControl":3}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=Laya.Scene,i=Laya.ClassUtils.regClass;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("test/TestScene")},e}(r);t.TestSceneUI=e,i("ui.test.TestSceneUI",e)}(e=t.test||(t.test={}))}(o=n.ui||(n.ui={}))},{}]},{},[2]);